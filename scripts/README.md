# 自定义开发脚本

## 功能说明

`dev-with-port-check.js` 是一个增强版的开发启动脚本，提供以下功能：

### 🚀 主要特性

1. **自动端口检查和清理**
   - 自动检查3000端口是否被占用
   - 智能识别并终止占用端口的进程
   - 跨平台支持（Windows/macOS/Linux）

2. **自动打开浏览器**
   - 服务启动后自动在默认浏览器中打开 `http://localhost:3000`
   - 智能检测服务启动状态

3. **友好的日志输出**
   - 彩色日志提示
   - 详细的执行状态反馈

## 使用方法

### 方式一：使用自动脚本（推荐）
```bash
npm run dev:auto
```

### 方式二：使用原始脚本
```bash
npm run dev
```

## 工作流程

1. **启动检查**：检查3000端口是否被占用
2. **端口清理**：如果端口被占用，自动终止相关进程
3. **等待释放**：等待端口完全释放
4. **启动服务**：启动Next.js开发服务器
5. **打开浏览器**：服务启动后自动打开浏览器

## 跨平台兼容性

- **Windows**: 使用 `netstat` 和 `taskkill` 命令
- **macOS**: 使用 `lsof` 和 `kill` 命令
- **Linux**: 使用 `lsof` 和 `kill` 命令

## 注意事项

- 脚本会安全地终止占用端口的进程
- 支持优雅的中断处理（Ctrl+C）
- 无需额外依赖，使用Node.js内置模块

## 故障排除

如果遇到问题，可以：

1. 检查Node.js版本是否支持（建议Node.js 14+）
2. 确保有足够的系统权限终止进程
3. 使用原始 `npm run dev` 命令作为备选方案